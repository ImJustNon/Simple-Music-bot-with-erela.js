/**
 * Docs
 * npm install discord.js@~12.5.3 erela.js @discordjs/voice 
 * add token and provide prefix
 * if you have own lavalink you can add your own and set secure to **FALSE**
 * to run bot use **npm run start**
 */

const { Client, MessageEmbed } = require("discord.js");
const { Manager } = require("erela.js");
const client = new Client();

const prefix = '!';
const token = '';
const radioStation = {
	ecq_18k: 'http://112.121.151.133:8147/live',
};

const manager = new Manager({
	nodes: [
		{
			host: "lavalink-1.nonnyha5.repl.co", 
			port: 443, 
			password: "reirin",
			secure: true,
			retryAmount: Infinity,
  			retryDelay: 3000,
		},
	],
	send(id, payload) {
		const guild = client.guilds.cache.get(id);
		if (guild) guild.shard.send(payload);
	},
});
//========================= Node event =========================
manager.on("nodeConnect", node =>{
	console.log(`Node ${node.options.identifier} Connected!`)
});
manager.on("nodeError", (node, error) =>{
	console.log(`Node ${node.options.identifier} had an error: ${error.message}`)
});
manager.on('nodeDisconnect', (node) =>{
	console.log(`Node ${node.options.identifier} Disconnected!`)
});

//========================= Erela.js Event =========================
manager.on("trackStart", (player, track) => {
	const channel = client.channels.cache.get(player.textChannel)
	channel.send(`**‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á:**\n\`\`\`${track.title}\`\`\``);
});
manager.on("queueEnd", (player) => {
	const channel = client.channels.cache.get(player.textChannel)
	channel.send("‡∏Ñ‡∏¥‡∏ß‡∏´‡∏°‡∏î‡πÄ‡πÄ‡∏•‡πâ‡∏ß‡∏ô‡πà‡∏∞");
    player.destroy();
});
manager.on('playerDestroy', (player) => {
	const channel = client.channels.cache.get(player.textChannel)
});

//========================= Client Event =========================
client.on("ready", () =>{
	console.log(`${client.user.tag} Is ready to Play Music`);
	manager.init(client.user.id);
});
client.on("ready", () =>{
	// set activity
	let i = 0;
	let activity = ['Music', '‡πÄ‡∏û‡∏•‡∏á', 'Ê≠å', 'Ê≠åÊõ≤', '–ø–µ—Å–Ω—è', '‡§ó‡§æ‡§®‡§æ', 'ÎÖ∏Îûò'];
	setInterval(async() => {
		if(i === activity.length) i = 0;
		await client.user.setActivity(`${activity[i]}`, {
			type: "LISTENING", 
		});
		i++
	},5 * 1000);
});

client.on("raw", (d) =>{
	manager.updateVoiceState(d)
});

client.on("message", async (message) =>{
	if(message.author.bot) return;
    let args = message.content.slice(prefix.length).trim().split(/ +/g);
    let cmd = args.shift().toLowerCase();

	
	if(cmd === 'play' || cmd === 'p'){
		play(client, message, args);
	}
	else if(cmd === 'pause'){
		pause(client, message, args);
	}
	else if(cmd === 'resume'){
		resume(client, message, args);
	}
	else if(cmd === 'skip' || cmd === 'sk'){
		skip(client, message, args);
	}
	else if(cmd === 'stop' || cmd === 'dc' || cmd === 'disconnect'){
		stop(client, message, args);
	}
	else if(cmd === 'nowplaying' || cmd === 'np'){
		nowplaying(client, message, args);
	}
	else if(cmd === 'queue' || cmd === 'q'){
		queue(client, message, args);
	}
	else if(cmd === 'loop' || cmd === 'repeat'){
		loop(client, message, args);
	}
	else if(cmd === 'volume' || cmd === 'vol'){
		volume(client, message, args);
	}
	else if(cmd === 'shuffle'){
		shuffle(client, message, args);
	}
	else if(cmd === 'j' || cmd === 'join' || cmd === 'connect'){
		connect(client, message, args);
	}
	else if(cmd === 'radio'){
		radio(client, message, args);
	}
	else if(cmd === 'clearqueue'){
		clearQueue(client, message, args);
	}
	else if(cmd === 'help' || cmd === 'h'){
		help(client, message, args);
	}
	else {
		if(message.content.startsWith(prefix)){
			return message.channel.send('‡∏Æ‡∏∑‡∏°‡∏°.. ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏∞');
		}
	}
});

let help = async(client, message, args) =>{
	let help_embed = new MessageEmbed()
		.setColor('RANDOM')
		.setAuthor('üìó ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠', message.guild.iconURL())
		.addFields(
			[
				{
					name: `:notes: | \` ${prefix}help \``,
					value: `‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}play \``,
					value: `‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}pause \``,
					value: `‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}resume \``,
					value: `‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏ï‡πà‡∏≠`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}skip \``,
					value: `‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏á`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}stop \``,
					value: `‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}nowplaying \``,
					value: `‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}queue \``,
					value: `‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}loop \``,
					value: `‡∏ß‡∏ô‡∏ã‡πâ‡∏≥`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}volume \``,
					value: `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}shuffle \``,
					value: `‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}connect \``,
					value: `‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}radio \``,
					value: `‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏`, 
					inline: true,
				},
				{
					name: `:notes: | \` ${prefix}clearqueue \``,
					value: `‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏û‡∏•‡∏á`, 
					inline: true,
				},
			]
		)
		.setFooter(`${client.user.tag}`, client.user.displayAvatarURL())
		.setTimestamp();

	message.channel.send(help_embed);
}
let play = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!args[0]) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πà‡∏∞');
	else {
		let queary = args.join(' ');
		let player = manager.players.get(message.guild.id);
		if(!player){
			player = manager.create({
				guild: message.guild.id,
				voiceChannel: message.member.voice.channel.id,
				textChannel: message.channel.id,
				selfDeafen: false,
				selfMute: false,
				volume: 80,
			});
		}
		if(player.state !== 'CONNECTED') player.connect();
		let res = await manager.search(queary, message.author);

		switch(res.loadType){
			case "LOAD_FAILED":
			{
				if(!player.queue.current) player.destroy();
				await message.channel.send('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ');
			}
			break;
			case "NO_MATCHES":
			{
				if(!player.queue.current) player.destroy();
				await message.channel.send(`‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${queary}`);
			}
			break;
			case "PLAYLIST_LOADED":
			{
				await player.queue.add(res.tracks);
				message.channel.send(`:white_check_mark: ‡πÄ‡∏û‡∏¥‡πà‡∏° Playlist: \`${res.playlist.name}\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
				if(!player.playing){
					player.play();
				}
			}
			break;
			case "SEARCH_RESULT":
			{
				await player.queue.add(res.tracks[0]);
				message.channel.send(`:white_check_mark:  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á \`${res.tracks[0].title}\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
				if(!player.playing){
					player.play();
				}
			}
			break;
			case "TRACK_LOADED":
			{
				await player.queue.add(res.tracks[0]);
				message.channel.send(`:white_check_mark: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á \`${res.tracks[0].title}\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
				if(!player.playing){
					player.play();
				}
			}
			break;
		}
	}
}
let pause = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else if(player.paused) return message.channel.send(':warning: ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡∏≠‡∏¢‡∏π‡πà‡∏ô‡πà‡∏∞');
	else{
		player.pause(true);
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let resume = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else if(!player.paused) return message.channel.send(':warning: ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ô‡πà‡∏∞');
	else{
		player.pause(false);
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let skip = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else{
		player.stop();
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let stop = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else{
		player.destroy();
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let nowplaying = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else{
		let tracks = player.queue.current;
		message.channel.send(`**‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô** \n\n\`${tracks.title}\``);
	}
}
let queue = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else if(!player.queue.size || player.queue.size === 0 || !player.queue || player.queue.length === 0) return message.channel.send('‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ô‡πà‡∏∞');
	else{
		let queueMsg = '**‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏û‡∏•‡∏á**\n';
		for(let i = 0; i < player.queue.length; i++){
			queueMsg += `\`${i + 1})\` [${convertTime(player.queue[i].duration)}] - ${player.queue[i].title}`
		}
		message.channel.send(queueMsg); 
	}

	async function convertTime(duration){
		var milliseconds = parseInt((duration % 1000) / 100),
		  	seconds = parseInt((duration / 1000) % 60),
		  	minutes = parseInt((duration / (1000 * 60)) % 60),
		  	hours = parseInt((duration / (1000 * 60 * 60)) % 24);
	
		hours = (hours < 10) ? "0" + hours : hours;
		minutes = (minutes < 10) ? "0" + minutes : minutes;
		seconds = (seconds < 10) ? "0" + seconds : seconds;
	
		if (duration < 3600000) {
		  return minutes + ":" + seconds;
		} else {
		  return hours + ":" + minutes + ":" + seconds;
		}
	}
}
let loop = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else{
		if(!player.trackRepeat && !player.queueRepeat){
			player.setQueueRepeat(true);
			message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏ã‡πâ‡∏≥‡πÄ‡πÄ‡∏ö‡∏ö \`‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
		}
		else if(player.queueRepeat && !player.trackRepeat){
			player.setTrackRepeat(true); 
			player.setQueueRepeat(false);
			message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏ã‡πâ‡∏≥‡πÄ‡πÄ‡∏ö‡∏ö \`‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
		}
		else if(!player.queueRepeat && player.trackRepeat){
			player.setTrackRepeat(false);
			message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏ã‡πâ‡∏≥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
		}
	}
}
let volume = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else{
		let new_volume = args[0];
		if(new_volume > 100) return message.channel.send(`:warning: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ \`100\` ‡πÑ‡∏î‡πâ‡∏ô‡πà‡∏∞`);
		else if(new_volume < 0) return message.channel.send(':warning: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ \`0\` ‡πÑ‡∏î‡πâ‡∏ô‡πà‡∏∞');
		else{
			player.setVolume(new_volume);
			message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô \`${new_volume}\` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
		}
	}
}
let shuffle = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else if(!player.queue.length || player.queue.length === 0 || !player.queue) return message.channel.send('‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏û‡∏≠‡∏ô‡πà‡∏∞');
	else{
		player.queue.shuffle();
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let connect = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(player || player.state == "CONNECTED") return message.channel.send('‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ô‡πà‡∏∞');
	else{
		player = manager.create({
			guild: message.guild.id,
			voiceChannel: message.member.voice.channel.id,
			textChannel: message.channel.id,
			selfDeafen: false,
			selfMute: false,
			volume: 80,
		});
		player.connect();
		message.channel.send(`:white_check_mark: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡πà‡∏≠‡∏á ${channel.name} ‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}
let radio = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else{
		if(!player){
			player = manager.create({
				guild: message.guild.id,
				voiceChannel: message.member.voice.channel.id,
				textChannel: message.channel.id,
				selfDeafen: false,
				selfMute: false,
				volume: 80,
			});
		}
		if(player.state !== 'CONNECTED') player.connect();
		playRadio(radioStation.ecq_18k);
	}
	async function playRadio(url){
		let res = await manager.search(url, message.author);
		switch(res.loadType){
			case "LOAD_FAILED":
			{
				if(!player.queue.current) player.destroy();
				await message.channel.send('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏ô‡πà‡∏∞');
			}
			break;
			case "SEARCH_RESULT":
			{
				await player.queue.add(res.tracks[0]);
				message.channel.send(new MessageEmbed().setColor('YELLOW').setDescription(`:white_check_mark:  ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á [‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ 18k-Radio](https://ecq-studio.com/18K/X/)`));
				if(!player.playing){
					player.play();
				}
			}
			break;
			case "TRACK_LOADED":
			{
				await player.queue.add(res.tracks[0]);
				message.channel.send(new MessageEmbed().setColor('YELLOW').setDescription(`:white_check_mark: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á [‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ 18k-Radio](https://ecq-studio.com/18K/X/)`));
				if(!player.playing){
					player.play();
				}
			}
			break;
		}
	}
}
let clearQueue = async(client, message, args) =>{
	let channel = message.member.voice.channel;
	let player = manager.players.get(message.guild.id);
	if(!channel) return message.channel.send('‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡πà‡∏∞');
	else if(message.guild.me.voice.channel && !channel.equals(message.guild.me.voice.channel)) return message.channel.send('‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡πà‡∏∞');
	else if(!player || !player.queue.current) return message.channel.send('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πà‡∏∞');
	else if(!player.queue.length || player.queue.length === 0 || !player.queue) return message.channel.send('‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏û‡∏≠‡∏ô‡πà‡∏∞');
	else{
		player.queue.clear();
		message.channel.send(`:white_check_mark: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡πÄ‡∏•‡πâ‡∏ß`);
	}
}

//========================= player Event =========================
client.on('voiceStateUpdate', async(oldState, newState) =>{
	let player = await manager.players.get(newState.guild.id);
	if(player){
		if (oldState.channelID === null || typeof oldState.channelID == 'undefined') return;
		if (newState.id !== client.user.id) return;
		
		player.destroy();
		player.disconnect();
	}  
});
client.on('voiceStateUpdate', async(oldState, newState) =>{
	let player = await manager.players.get(newState.guild.id);
    if(player){
        const voiceChannel = newState.guild.channels.cache.get(player.voiceChannel);
        if(player.playing && voiceChannel.members.size < 2){
            player.destroy();
            player.disconnect();
        }
    } 
});

//========================= Error Handler(Anti Error) ========================= 

process.on('unhandledRejection', async(reason, p) =>{
    console.log("[Anti-crash] Unhandled Rejection/Catch");
    console.log(reason, p);
});
process.on('uncaughtException', async(err, origin) =>{
    console.log("[Anti-crash] Uncaught Exception/Catch");
    console.log(err, origin);
});
process.on('uncaughtExceptionMonitor', async(err, origin) =>{
    console.log("[Anti-crash] Uncaught Exception/Catch (MONITOR)");
    console.log(err, origin);   
});

//========================= Login To Bot ========================= 
client.login(token);

